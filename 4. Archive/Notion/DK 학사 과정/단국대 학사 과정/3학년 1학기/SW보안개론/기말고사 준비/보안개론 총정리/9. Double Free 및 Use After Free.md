#### 보안개론 용어 정리
|이름|챕터|
|---|---|
|[[SSL, TLS]]|12|
|[[CWE]]|7|
|[[limit.h]]|6|
|[[컴파일 옵션]]|6|
|[[mmap 함수]]|9|
|[[A, M, P 비트]]|9|
  
  
---
## 훑어보기🐶
1. glibc 힙 구현
    1. bin은 free chunk를 관리하는 자료구조이고, 이는 더블드 링크드 리스트로 관리된다.( bin == 자유리스트, 같은 용어이다.)
    2. 비어있는 bin에 같은 청크가 연속으로 2번 free 된다면 자료구조가 망가지고, 이 상태에서 malloc하게 된다면, 같은 청크가 할당된다.
2. 더블 프리 취약점
3. Use-after-free 취약점
  
---
## 정리하기🐱
### 더블 프리가 위험한 이유
bin(자유 리스트)의 자료구조가 망가져서 공격자가 공격할 수 있는 여지가 생기기 때문에 더블 프리는 위험하다.
  
### malloc은 자유 리스트에 존재하는 청크를 우선 할당한다.
- `malloc` 함수는 메모리 요청 시, 우선적으로 자유 리스트(free list) 또는 `bin`에 있는 적절한 크기의 청크를 찾아서 할당합니다.
- 자유 리스트에서 청크를 제거할 때 `unlink` 함수가 호출됩니다.
- 만약 적절한 크기의 청크가 없다면, 새로운 메모리 청크를 힙(heap) 영역에서 할당합니다.
- 이 과정은 메모리 재사용을 극대화하고 단편화를 줄이기 위해 매우 중요한 역할을 합니다.
  
### Double free 결과
![[Source/Untitled 112.png|Untitled 112.png]]
메모리 변조, 비인가 코드, 명령어 실행 → CIA 모두 침해
### UAF 결과
![[Source/Untitled 1 73.png|Untitled 1 73.png]]
Integrity: 메모리 변조
Availability: 도스
CIA: 비인가 코드, 명령어 실행