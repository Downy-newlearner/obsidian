
'시술 유형', '특정 시술 유형', '배란 자극 여부', '배란 유도 유형'


'총 시술 횟수', '클리닉 내 총 시술 횟수', 'IVF 시술 횟수', 'DI 시술 횟수', '총 임신 횟수', 'IVF 임신 횟수', 'DI 임신 횟수', '총 출산 횟수', 'IVF 출산 횟수', 'DI 출산 횟수'


'총 생성 배아 수', 

'저장된 배아 수', '미세주입 후 저장된 배아 수', '해동된 배아 수', '해동 난자 수', '수집된 신선 난자 수', '저장된 신선 난자 수', '혼합된 난자 수', '파트너 정자와 혼합된 난자 수', '기증자 정자와 혼합된 난자 수', 


'동결 배아 사용 여부', '신선 배아 사용 여부', '기증 배아 사용 여부', '대리모 여부', '난자 채취 경과일', '난자 혼합 경과일', '배아 이식 경과일'


'임신 성공 여부'


'미세주입된 난자 수', '미세주입에서 생성된 배아 수', '미세주입 배아 이식 수'

'정자 나이', '난자 나이'


## 임신  성공 여부와 관련이 있어보이는 컬럼들
1. 시술 당시 나이
2. 


## 같은 주제로 묶이는 컬럼들

### 1. 불임 원인
'단일 배아 이식 여부', '남성 주 불임 원인', '남성 부 불임 원인', '여성 주 불임 원인', '여성 부 불임 원인', '부부 주 불임 원인', '부부 부 불임 원인', '불명확 불임 원인'

'불임 원인 - 난관 질환', '불임 원인 - 남성 요인', '불임 원인 - 배란 장애', '불임 원인 - 여성 요인', '불임 원인 - 자궁경부 문제', '불임 원인 - 자궁내막증', '불임 원인 - 정자 농도', '불임 원인 - 정자 면역학적 요인', '불임 원인 - 정자 운동성', '불임 원인 - 정자 형태'


### 2. 난자
'난자 출처', '난자 기증자 나이', '대리모 여부', '난자 채취 경과일', '난자 혼합 경과일',

### 3. 배아 이식
'단일 배아 이식 여부', '이식된 배아 수'

- 이식된 배아 수가 0이면 단일 배아 이식 여부가 0임(단일 배아 이식을 안했다는 의미)
- 즉 

## 시술 당시 나이
- 연관 컬럼이 굉장히 많을 것으로 예상됨.

```
def create_age_columns(row):

# 정자 나이 컬럼: 정자 출처가 '기증 제공'이면 정자 기증자 나이 사용, 그렇지 않으면 '알 수 없음'

sperm_age = row['정자 기증자 나이'] if row['정자 출처'] == '기증 제공' else '알 수 없음'

  

# 난자 나이 컬럼 생성

egg_age = row['난자 기증자 나이'] if '난자 기증자 나이' in row else '알 수 없음'

  

# 새로운 정보 반환

return pd.Series({'정자 나이': sperm_age, '난자 나이': egg_age})

  

df[['정자 나이', '난자 나이']] = df.apply(create_age_columns, axis=1)
```
- 정자 나이, 난자 나이 컬럼을 생성했음
- '시술 당시 나이', '정자 기증자 나이', '난자 기증자 나이', '난자 출처', '정자 출처' 컬럼을 삭제해도 된다.


임신 성공 vs 임신 실패
컬럼별 value_count

![[Pasted image 20250214012136.png|400]]

![[Pasted image 20250214012154.png]]


31-35
26-30
21-25
만20세 이하

### 나이별 bool 타입 값 비율 비교

- **'배란 자극 여부'**
	- ![[Pasted image 20250215170812.png|400]]
	- 모든 연령대에서 True가 False보다 많다.
	- 45-50세 이전까진 비슷한 비율을 띄다가 45-50세부터 배란 자극을 하지 않는 환자의 비율이 증가한다.
	- 만 20세 이하 환자들은 배란 자극을 전혀 하지 않았다.
- **'단일 배아 이식 여부'**
	- ![[Pasted image 20250215171044.png|400]]
	- 나이가 들 수록 단일 배아 이식률이 낮아진다
	- ==다중 배아 이식을 많이 하는 것인지, 배아 이식을 하지 않게 되는 것인지 분석이 필요해보인다.==
- **'남성 주 불임 원인'**
	- ![[Pasted image 20250215173051.png|400]]
	- 현재 난자 나이를 기준으로 분석 중이라 남성 불임 원인 컬럼은 분석이 불가능하다.
	- 정자 나이를 기준으로 분석 할 때 확인해보면 좋겠지만, 정자 나이에 대한 데이터는 너무 적어서 이 컬럼은 건너뛰어야할 것 같다.
- **'남성 부 불임 원인'**
- **'여성 주 불임 원인'**
	- ![[Pasted image 20250215173223.png|400]]
	- 나이가 들 수록 여성 주 불임 원인 비율이 늘어난다.
- **'여성 부 불임 원인'**
	- ![[Pasted image 20250215173957.png|400]]
	- '여성 주 불임 원인'보다 빠른 폭으로 증가한다.
	- 또한 의외로 주 불임 원인보다 부 불임 원인을 겪는 환자가 적다.
	- 치료가 비교적 쉬운 부 불임 원인보다 치료가 비교적 어려운 주 불임 원인을 가지고 있는 환자의 비율이 높다는 것이 의외였다.
- **'부부 주 불임 원인'**
- **'부부 부 불임 원인'**
- **'불명확 불임 원인'**
- **'불임 원인 - 난관 질환'**
- **'불임 원인 - 남성 요인'**
- **'불임 원인 - 배란 장애'**
- **'불임 원인 - 여성 요인'**
- **'불임 원인 - 자궁경부 문제'**
- **'불임 원인 - 자궁내막증'**
- **'불임 원인 - 정자 농도'**
- **'불임 원인 - 정자 면역학적 요인'**
- **'불임 원인 - 정자 운동성'**
- **'불임 원인 - 정자 형태'**
- **'배아 생성 주요 이유'**
- **'동결 배아 사용 여부'**
- **'신선 배아 사용 여부'**
- **'기증 배아 사용 여부'**
- **'대리모 여부'**
- **'난자 채취 경과일'**
- **'임신 성공 여부'**

## 결론
### 1. 난자 나이
![[Pasted image 20250215180215.png]]
- 난자 나이는 많은 독립 변수들과 타겟인 종속 변수에 영향을 끼치는 교란 변수이다.
- 이 교란 변수를 처리하기 위하여 나이를 기준으로 데이터를 나누어 따로 모델을 만들 것이다.
- 구분 기준
	1. 만20세 이하, 만18-34세 -> 건강한 난자
	2. 만35-37세, 만38-39세 -> 노화가 진행 중인 난자
	3. 만40-42세, 만43-44세, 만45-50세 -> 노화된 난자
	- '알 수 없음'은 모든 데이터의 '임신 성공 여부'값이 0이므로 삭제한다.

