ì¢‹ì€ ì§ˆë¬¸ì…ë‹ˆë‹¤! `cachedUser`ëŠ” ì§ì ‘ êµ¬í˜„í•œ 2ë‹¨ê³„ ìºì‹± ì „ëµì…ë‹ˆë‹¤. Flutter ê¸°ë³¸ ê¸°ëŠ¥ì€ ì•„ë‹ˆê³ , ë‘ ê°€ì§€ë¥¼ ì¡°í•©í–ˆìŠµë‹ˆë‹¤.

## ğŸ§© ìºì‹œì˜ ì •ì²´: **2ë‹¨ê³„ ìºì‹± ì‹œìŠ¤í…œ (ì§ì ‘ êµ¬í˜„)**

### 1ï¸âƒ£ **ë©”ëª¨ë¦¬ ìºì‹œ** (ê°€ì¥ ë¹ ë¦„) - ì§ì ‘ êµ¬í˜„

```23:24:frontend/lib/services/user_service.dart
// ë©”ëª¨ë¦¬ ìºì‹œ (ë¹ ë¥¸ ì ‘ê·¼)
User? _cachedUser;
```

- **ì €ì¥ ìœ„ì¹˜**: ì•±ì˜ RAM (ë©”ëª¨ë¦¬)
- **ì†ë„**: âš¡ ì´ˆê³ ì† (ì¦‰ì‹œ ì ‘ê·¼)
- **ìƒëª…ì£¼ê¸°**: ì•±ì´ ì¢…ë£Œë˜ë©´ ì‚¬ë¼ì§
- **ìš©ë„**: `getUser()`, `getUserName()` ê°™ì€ ë©”ì„œë“œì—ì„œ ì¦‰ì‹œ ë°˜í™˜

```dart
// ë©”ëª¨ë¦¬ ìºì‹œì—ì„œ ì¦‰ì‹œ ë°˜í™˜ (ë§¤ìš° ë¹ ë¦„!)
String? getUserName() {
  return _cachedUser?.name;
}
```

### 2ï¸âƒ£ **SharedPreferences ìºì‹œ** (ì˜êµ¬ ì €ì¥) - Flutter íŒ¨í‚¤ì§€ ì‚¬ìš©

```67:77:frontend/lib/services/user_service.dart
Future<User?> loadUserFromCache() async {
  try {
    final prefs = await SharedPreferences.getInstance();
    final userDataString = prefs.getString(_userDataKey);

    if (userDataString != null) {
      final userJson = json.decode(userDataString) as Map<String, dynamic>;
      _cachedUser = User.fromJson(userJson);
      developer.log('âœ… User loaded from cache: ${_cachedUser?.name}');
      _notifyListeners();
      return _cachedUser;
```

- **ì €ì¥ ìœ„ì¹˜**: ë””ë°”ì´ìŠ¤ì˜ ë¡œì»¬ ì €ì¥ì†Œ
  - iOS: `UserDefaults`
  - Android: `SharedPreferences`
- **ì†ë„**: ğŸ¢ ìƒëŒ€ì ìœ¼ë¡œ ëŠë¦¼ (ë””ìŠ¤í¬ I/O)
- **ìƒëª…ì£¼ê¸°**: ì•± ì¢…ë£Œ í›„ì—ë„ ìœ ì§€ë¨ (ì˜êµ¬ ì €ì¥)
- **íŒ¨í‚¤ì§€**: `shared_preferences: ^2.2.2` (pubspec.yamlì— ì •ì˜ë¨)
- **ìš©ë„**: ì•± ì¬ì‹œì‘ ì‹œ ì„œë²„ API í˜¸ì¶œ ì „ì— ë°ì´í„° ë¹ ë¥´ê²Œ ë¡œë“œ

---

## ğŸ“Š 2ë‹¨ê³„ ìºì‹± ë™ì‘ ì›ë¦¬

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì„œë²„ API í˜¸ì¶œ (GET /me)                             â”‚
â”‚  â†“                                                   â”‚
â”‚  User ê°ì²´ ìƒì„±                                      â”‚
â”‚  â†“                                                   â”‚
â”‚  1. SharedPreferences ì €ì¥ (ì˜êµ¬ ì €ì¥)               â”‚
â”‚     _saveUserToCache()                               â”‚
â”‚  â†“                                                   â”‚
â”‚  2. ë©”ëª¨ë¦¬ ìºì‹œ ì €ì¥ (_cachedUser = user)            â”‚
â”‚     ë¹ ë¥¸ ì ‘ê·¼ì„ ìœ„í•´                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì•± ì¬ì‹œì‘ ì‹œ                                        â”‚
â”‚  â†“                                                   â”‚
â”‚  1. SharedPreferencesì—ì„œ ë¡œë“œ (ì˜êµ¬ ì €ì¥ì†Œ)         â”‚
â”‚     loadUserFromCache()                              â”‚
â”‚  â†“                                                   â”‚
â”‚  2. ë©”ëª¨ë¦¬ ìºì‹œì— ë³µì› (_cachedUser = user)          â”‚
â”‚  â†“                                                   â”‚
â”‚  3. UIì— ì¦‰ì‹œ í‘œì‹œ (ë¹ ë¦„!)                           â”‚
â”‚  â†“                                                   â”‚
â”‚  4. ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì„œë²„ ë™ê¸°í™” (ìµœì‹  ë°ì´í„°)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ ì™œ 2ë‹¨ê³„ ìºì‹±ì„ ì‚¬ìš©í• ê¹Œ?

### âŒ ë©”ëª¨ë¦¬ ìºì‹œë§Œ ì‚¬ìš©í•˜ë©´?
```dart
User? _cachedUser; // ì•± ì¢…ë£Œí•˜ë©´ ì‚¬ë¼ì§!
```
- ì•± ì¬ì‹œì‘í•  ë•Œë§ˆë‹¤ ì„œë²„ API í˜¸ì¶œ í•„ìš”
- ë„¤íŠ¸ì›Œí¬ ì—†ìœ¼ë©´ ì‚¬ìš©ì ì´ë¦„ ëª» ë³´ì—¬ì¤Œ

### âŒ SharedPreferencesë§Œ ì‚¬ìš©í•˜ë©´?
```dart
final prefs = await SharedPreferences.getInstance();
final name = prefs.getString('user_name'); // ë§¤ë²ˆ ë””ìŠ¤í¬ I/O
```
- ë§¤ë²ˆ ë””ìŠ¤í¬ì—ì„œ ì½ì–´ì•¼ í•´ì„œ ëŠë¦¼
- ì—¬ëŸ¬ í™”ë©´ì—ì„œ ì ‘ê·¼í•˜ë©´ ì„±ëŠ¥ ì €í•˜

### âœ… 2ë‹¨ê³„ ìºì‹±ì˜ ì¥ì 
```dart
// ì²« ë²ˆì§¸: ë©”ëª¨ë¦¬ì—ì„œ ì¦‰ì‹œ ë°˜í™˜ (ì´ˆê³ ì†)
String? getUserName() => _cachedUser?.name;

// ì•± ì¬ì‹œì‘ ì‹œ: SharedPreferencesì—ì„œ ë³µì›
await loadUserFromCache(); // ë©”ëª¨ë¦¬ ìºì‹œ ë³µì›

// ë°±ê·¸ë¼ìš´ë“œ: ì„œë²„ì—ì„œ ìµœì‹  ë°ì´í„° ë™ê¸°í™”
fetchUserFromServer(); // ë¹„ë™ê¸°ë¡œ ì—…ë°ì´íŠ¸
```

---

## ğŸ” ì‹¤ì œ ì½”ë“œì—ì„œ í™•ì¸

**ë©”ëª¨ë¦¬ ìºì‹œ ì‚¬ìš© ì˜ˆì‹œ** (mypage.dart):
```dart
void _loadUserData() {
  final user = UserService().getUser(); // ë©”ëª¨ë¦¬ì—ì„œ ì¦‰ì‹œ ë°˜í™˜!
  if (user != null) {
    setState(() {
      _userName = user.name;
    });
  }
}
```

**SharedPreferences ì €ì¥/ë¡œë“œ** (user_service.dart):
```dart
// ì €ì¥
Future<void> _saveUserToCache(User user) async {
  final prefs = await SharedPreferences.getInstance();
  final userDataString = json.encode(user.toJson());
  await prefs.setString(_userDataKey, userDataString);
}

// ë¡œë“œ
Future<User?> loadUserFromCache() async {
  final prefs = await SharedPreferences.getInstance();
  final userDataString = prefs.getString(_userDataKey);
  // ... JSON íŒŒì‹± í›„ ë©”ëª¨ë¦¬ ìºì‹œì— ì €ì¥
}
```

**ê²°ë¡ **: Flutterì˜ `shared_preferences` íŒ¨í‚¤ì§€ë¥¼ í™œìš©í•˜ë˜, ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´ ë©”ëª¨ë¦¬ ìºì‹œë¥¼ ì§ì ‘ êµ¬í˜„í•œ **í•˜ì´ë¸Œë¦¬ë“œ ìºì‹± ì „ëµ**ì…ë‹ˆë‹¤! ğŸš€