![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0001.jpg]]

![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0002.jpg]]

## 6.1. 패킷의 전달
![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0003.jpg]]

![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0004.jpg]]

![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0005.jpg]]
- 직접 전달은 패킷의 desti add로 전달하는 것이 직접 전달이다.
	- source: A, desti: B인 경우 위 그림은 직접 전달이 된다.


![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0006.jpg]]
- 오른쪽 라우터가 B에게 패킷을 전달하는 그림에서 '직접 전달'이라고 적혀있으니, desti는 B인 것이다.

- desti 주소를 보고 source의 블록과 같은 블록이라면 직접 전달이다.

- 나의 네트워크 주소와 목적지의 네트워크 주소가 같다면 직접 전달이고, 다르다면 간접 전달이다.


- 송신자는 목적지 IP와 자신의 IP + 서브넷 마스크를 비교해서 직접인지 간접인지 판단할 수 있습니다.
- 즉, 송신자 혼자서 계산으로 직접/간접 여부를 판단할 수 있어요!  그 후, 간접이라면 라우터 MAC 주소를 ARP로 물어보고,  직접이라면 목적지의 MAC 주소를 ARP로 물어봅니다.
- [[ARP]]란, IP 주소에 **해당하는 MAC 주소**를 알아내기 위한 프로토콜이에요.



## 6.2. 포워딩
![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0007.jpg]]
- 포워딩은 '경로를 찾기'에 집중하는 것이다.
- 경로가 결정된다면 다음 경로에 묻는다는 것이다.

- 딜리버리는 경로를 고려하지 않고, 다음 허브로 '보내는' 행위를 말한다.


![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0008.jpg]]

![[Pasted image 20250420192938.png]]

![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0009.jpg]]
- 라우팅과 포워딩이 자세히는 뜻이 다르지만, 비슷비슷하게 사용돼서 위 테이블을 '포워딩 테이블'이라고 부르기도 한다.
	- 개념상 라우팅은 "경로 계산", 포워딩은 "패킷 전달"이다.
- 이 길을 찾는 알고리즘은 다익스트라 알고리즘을 비롯해 여러 가지가 존재한다.

- 네비게이션처럼 A에서 B로 가는 길을 미리 계산을 끝낸 후 라우팅 테이블을 만드는 것인가?
	- ![[Pasted image 20250420190857.png|300]]


![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0010.jpg]]


![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0011.jpg]]
- 호스트를 지정해서 경로를 설정하는 방법이다.
- 예를 들어 R1, R2를 지나는 경로가 잘 작동하는지 테스트하는 경우에 유용하다.

![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0012.jpg]]
- 디폴트 경로를 사용함으로써, **어떤 경우에도 패킷이 버려지지 않도록** 처리하는 백업 로직임

![[Pasted image 20250420193327.png|500]]

![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0013.jpg]]
- 1계층과 2계층을 묶어서 인터페이스라고 부른다.
	- 운영체제에서는 모든 디바이스를 file로 처리한다.
		- file마다 이름을 붙인다.(2n-1, 2n-2... 이거 맞나?)
		- 그게 Interface number이다.

[[2025-1 인프 6장 13페이지 설명]]
![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0014.jpg]]
- 우선 직접 / 간접 전달을 구분한다.
- 또한 A, B, C 등 클래스를 구분한다.
- 참고로, /16: B class, /8: A class

![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0015.jpg]]
- 이전 슬라이드 그림만 보고 위 슬라이드의 피겨를 그릴 수 있어야한다. 0407

![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0016.jpg]]

![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0017.jpg]]
^0407

![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0018.jpg]]

![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0019.jpg]]

![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0020.jpg]]

![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0021.jpg]]

![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0022.jpg]]

![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0023.jpg]]

![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0024.jpg]]

![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0025.jpg]]
- 시험에선 빈칸으로 제출하면 답을 안 쓴 거니까, 없으면 (없다)라고 쓰기.

![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0026.jpg]]

![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0027.jpg]]

![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0028.jpg]]
- 여기까진 공부한거고 실제로는 다음 슬라이드 내용이 쓰인다.

![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0029.jpg]]
- 라우팅 테이블을 주고 토폴로지를 그릴 수 있어야한다.

- 네트워크에 이상이 있으면 라우팅 페이지를 보면 네트워크가 머릿속에 그림으로 그려진다.
	- 여기서 정보를 뽑아보자.
	- 머릿속의 그림
		- 라우터에서는 3개의 선이 튀어나오고 그 중에 2개를 통해서 위 두 줄에 써있는 네트워크로로 간접 전달할 수 있다.

- 이 연습을 해야한다.
	- 답은 다음 페이지
![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0030.jpg]]

![[5) 6장. IP 패킷의 전달과 포워딩 (31 pages) (1)_page-0031.jpg]]